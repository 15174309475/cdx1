<!DOCTYPE html>
<html>
<head>
    <title>宇宙成因核素产率计算器</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .input-group { margin: 10px 0; }
        input { margin-left: 5px; }
        .result { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h2>宇宙成因核素产率计算器</h2>
    <div class="input-group">
        纬度（度）: <input type="number" id="latitude" value="45">
    </div>
    <div class="input-group">
        海拔（米）: <input type="number" id="elevation" value="0">
    </div>
    <div class="input-group">
        深度（厘米）: <input type="number" id="depth" value="0">
 
    <script>
        // 标称产率（SLHL: 海平面高纬度）
        const P0 = {
            '10Be': 6,    // atoms/g/yr
            '26Al': 36.8,
            '14C': 20,
            '3He': 124,
            '21Ne': 21,
            '36Cl': 54       // 需单独计算
        };

        // 海拔校正因子（每千米增加15%）
        function elevationFactor(elevation) {
            return 1 + 0.15 * (elevation / 1000);
        }

        // 纬度校正因子（简化模型）
        function latitudeFactor(lat) {
            const alpha = 10.275;
    const k = 0.9615;
   const latRad = lat * Math.PI / 180;
    const R_C = 14.9 * Math.pow(Math.cos(latRad), 4);
    
    // 极地保护逻辑：R_C ≤ 0时返回1（避免NaN）
    if (R_C <= 0) return 1.0;
    
    // 计算Dorman函数：1 - exp(-alpha * R_C^(-k))
    return 1 - Math.exp(-alpha * Math.pow(R_C, -k));
        }

        // 深度衰减因子（衰减长度150 g/cm²，密度2.7 g/cm³）
        function depthAttenuation(depth) {
            const L = 150;  // g/cm²
            const density = 2.7; // g/cm³
            return Math.exp(- (depth * density) / L);
        }


        }

        function calculate() {
            const lat = parseFloat(document.getElementById('latitude').value);
            const elev = parseFloat(document.getElementById('elevation').value);
            const depth = parseFloat(document.getElementById('depth').value);
      

            let results = "<h3>产率（atoms/g/yr）:</h3>";
            for (const nuclide in P0) {
                let rate = P0[nuclide];
      
                } else {
                    rate *= elevationFactor(elev) * latitudeFactor(lat) * depthAttenuation(depth);
                }
                results += `${nuclide}: ${rate.toFixed(2)}<br>`;
            }
            document.getElementById('results').innerHTML = results;
        }
    </script>
</body>
</html>
